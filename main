local library = loadstring(game:HttpGetAsync("https://raw.githubusercontent.com/Phynomie/growagarden/main/Library"))()

local Main = library:CreateWindow("Grow a garden script (Creds to Phy)","Crimson")

local tab = Main:CreateTab("Exploits")
local tab2 = Main:CreateTab("Automation")
local tab3 = Main:CreateTab("Misc")

tab:CreateToggle("Farm",function(a)
    print(a)
end)

tab:CreateSlider("Wow",1,16,function(a)
    print(a)
end)

tab:CreateCheckbox("Aimbot",function(a)
    print(a)
end)

tab:CreateDropdown("Word",{"Sung","Jin","Woo"},function(a)
    print(a)
end)

tab:CreateButton("Sell fruits",function()
    -- Get the ImageButton
    local sellButton = game:GetService("Players").LocalPlayer.PlayerGui.Teleport_UI.Frame:FindFirstChildOfClass("ImageButton")
    
    if sellButton then
        -- Method 1: Direct signal firing (most reliable)
        local success, err = pcall(function()
            -- Get all connections to MouseButton1Click
            local connections = getconnections(sellButton.MouseButton1Click)
            
            -- Fire each connection
            for _, connection in pairs(connections) do
                connection:Fire()
            end
            
            -- Alternative direct firing
            firesignal(sellButton.MouseButton1Click)
        end)
        
        -- Method 2: Mouse simulation fallback
        if not success then
            local mouse = game:GetService("Players").LocalPlayer:GetMouse()
            local originalPos = Vector2.new(mouse.X, mouse.Y)
            
            -- Calculate button center
            local absPos = sellButton.AbsolutePosition
            local absSize = sellButton.AbsoluteSize
            local buttonCenter = Vector2.new(
                absPos.X + absSize.X/2,
                absPos.Y + absSize.Y/2
            )
            
            -- Simulate mouse movement and click
            mouse.X, mouse.Y = buttonCenter.X, buttonCenter.Y
            wait(0.1)
            firesignal(sellButton.MouseButton1Click)
            wait(0.1)
            mouse.X, mouse.Y = originalPos.X, originalPos.Y
        end
        
        -- Handle proximity prompt after 0.5s
        wait(0.5)
        local virtualInput = game:GetService("VirtualInputManager")
        virtualInput:SendKeyEvent(true, Enum.KeyCode.E, false, game)
        wait(0.1)
        virtualInput:SendKeyEvent(false, Enum.KeyCode.E, false, game)
        
        print("✅ Fruits sold successfully!")
    else
        warn("❌ Could not find sell ImageButton in:")
        warn(game:GetService("Players").LocalPlayer.PlayerGui.Teleport_UI.Frame:GetChildren())
    end
end)

tab2:CreateButton("Hello",function()
    print("clicked")
end)

tab:Show()
